{"ast":null,"code":"var _jsxFileName = \"/Users/tasbeehismaeel/Documents/my-project/src/components/CategoryFilter.jsx\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { collection, query, where, getDocs } from \"firebase/firestore\";\nimport { db } from \"./firebase-config\";\nconst CategoryFilter = () => {\n  const [categories, setCategories] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n\n  // Memoized fetchCategories function\n  const fetchCategories = useCallback(async () => {\n    const categoriesRef = collection(db, \"categories\");\n    let q = categoriesRef;\n\n    // Apply filter condition if there is a filter value\n    if (filter) {\n      q = query(q, where(\"type\", \"==\", filter));\n    }\n    const querySnapshot = await getDocs(q);\n    const data = querySnapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    }));\n    setCategories(data);\n  }, [filter]); // Depend on the filter value\n\n  useEffect(() => {\n    fetchCategories(); // Re-fetch whenever the filter changes\n  }, [fetchCategories]); // Add fetchCategories as a dependency\n\n  const handleFilterChange = e => {\n    setFilter(e.target.value); // Update the filter value\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"#product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, \"Our Products\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, \"Select Type:\", /*#__PURE__*/React.createElement(\"select\", {\n    onChange: handleFilterChange,\n    value: filter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"All\"), \" \", /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Protein\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Protein\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Vitamins\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Vitamins\")))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, categories.map(category => /*#__PURE__*/React.createElement(\"div\", {\n    key: category.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, category.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"Price: $\", category.price)))));\n};\nexport default CategoryFilter;","map":{"version":3,"names":["React","useState","useEffect","useCallback","collection","query","where","getDocs","db","CategoryFilter","categories","setCategories","filter","setFilter","fetchCategories","categoriesRef","q","querySnapshot","data","docs","map","doc","id","handleFilterChange","e","target","value","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onChange","category","key","name","price"],"sources":["/Users/tasbeehismaeel/Documents/my-project/src/components/CategoryFilter.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { collection, query, where, getDocs } from \"firebase/firestore\";\nimport { db } from \"./firebase-config\";\n\nconst CategoryFilter = () => {\n  const [categories, setCategories] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n\n  // Memoized fetchCategories function\n  const fetchCategories = useCallback(async () => {\n    const categoriesRef = collection(db, \"categories\");\n    let q = categoriesRef;\n\n    // Apply filter condition if there is a filter value\n    if (filter) {\n      q = query(q, where(\"type\", \"==\", filter));\n    }\n\n    const querySnapshot = await getDocs(q);\n    const data = querySnapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n    setCategories(data);\n  }, [filter]); // Depend on the filter value\n\n  useEffect(() => {\n    fetchCategories(); // Re-fetch whenever the filter changes\n  }, [fetchCategories]); // Add fetchCategories as a dependency\n\n  const handleFilterChange = (e) => {\n    setFilter(e.target.value); // Update the filter value\n  };\n\n  return (\n    <div>\n      <h3 id=\"#product\">Our Products</h3>\n\n      <div>\n        <label>\n          Select Type:\n          <select onChange={handleFilterChange} value={filter}>\n            <option value=\"\">All</option> {/* Option for no filter */}\n            <option value=\"Protein\">Protein</option>\n            <option value=\"Vitamins\">Vitamins</option>\n          </select>\n        </label>\n      </div>\n\n      <div>\n        {categories.map((category) => (\n          <div key={category.id}>\n            <h2>{category.name}</h2>\n            <p>Price: ${category.price}</p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryFilter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}